# üõ†Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Makefile –∫–æ–º–∞–Ω–¥–∞–º

## üéØ Makefile - —ç—Ç–æ –≤–∞—à –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è!

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—ã–µ `make` –∫–æ–º–∞–Ω–¥—ã. –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç–∞–º!

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make help

# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã (–¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
make setup

# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–¥–ª—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã)
make quickstart
```

## ü§ñ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (–Ω–æ–≤–æ–µ!)

### –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:
```bash
make models
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –º–æ–¥–µ–ª–∏:
```bash
# üß† –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ - R1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
make switch-r1

# ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã - –±–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å
make switch-chat

# ‚öñÔ∏è –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è - V3 –º–æ–¥–µ–ª—å  
make switch-v3

# üöÄ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è - Gemini 2.0
make switch-gemini
```

### –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
```bash
# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ R1 –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
make switch-r1 && make web

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
make switch-chat && make test-enhanced
```

## üåê –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞ –ø–æ—Ä—Ç—É 8501 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
make web

# –ó–∞–ø—É—Å–∫ –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
make web PORT=8502

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
make dev
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã:
```bash
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å–∏—Å—Ç–µ–º—ã
make demo

# –¢–µ—Å—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–π RAG —Å–∏—Å—Ç–µ–º—ã
make test-enhanced

# –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏
make test MODEL=deepseek/deepseek-chat
```

### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã:
```bash
# –¢–µ—Å—Ç –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –ø–æ–¥—Ä—è–¥
make test-all

# –ü–æ–ª–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫
make benchmark

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
make results
```

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–º

```bash
# –°—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞
make status

# –°–æ–∑–¥–∞–Ω–∏–µ/–ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
make index

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
make rebuild
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â—É—é –º–æ–¥–µ–ª—å!)
make check

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
make structure

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
make clean
```

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ workflows

### –î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```bash
make switch-r1    # –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å
make web          # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
make switch-r1    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏
make dev          # –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
make demo         # –ë—ã—Å—Ç—Ä–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
make test-enhanced # –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã
make benchmark    # –ü–æ–ª–Ω—ã–π –±–µ–Ω—á–º–∞—Ä–∫
```

### –î–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
make setup        # –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
make web          # –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```

## ü§ñ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–æ–≤ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

### 1. **Makefile (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏)**
```bash
make switch-r1          # –ë—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ—Å—Ç–æ
make models             # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏
```

### 2. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã)**
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8501
- –í –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏: "ü§ñ –ú–æ–¥–µ–ª—å –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤"
- –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –∏–∑ —Å–ø–∏—Å–∫–∞

### 3. **–ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã**
```bash
python switch_model.py --list
python switch_model.py --switch deepseek/deepseek-r1:free
```

## üéØ –ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± –≤—ã–±—Ä–∞—Ç—å?

- **Makefile** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
- **–ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

## ‚öôÔ∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∞–ª–∏–∞—Å—ã

–ú–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ –≤–∞—à `.bashrc` –∏–ª–∏ `.zshrc`:

```bash
# –ê–ª–∏–∞—Å—ã –¥–ª—è RAG —Å–∏—Å—Ç–µ–º—ã
alias rag-web="cd /_geol/projects/nas/lysobacters && make web"
alias rag-r1="cd /_geol/projects/nas/lysobacters && make switch-r1"
alias rag-chat="cd /_geol/projects/nas/lysobacters && make switch-chat"
alias rag-test="cd /_geol/projects/nas/lysobacters && make test-enhanced"
alias rag-models="cd /_geol/projects/nas/lysobacters && make models"
```

–¢–æ–≥–¥–∞ —Å–º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
rag-r1       # –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ R1
rag-web      # –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
rag-test     # –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
```

## üî• –ì–æ—Ä—è—á–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏

```bash
# –õ—É—á—à–∞—è –º–æ–¥–µ–ª—å + –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
make switch-r1 && make web

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
make switch-r1 && make demo

# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –Ω—É–ª—è
make setup && make web

# –¢–µ—Å—Ç –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
make test-all && make results
```

## üéâ –ò—Ç–æ–≥

Makefile –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å–∏—Å—Ç–µ–º–æ–π! 

**–î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
1. `make switch-r1` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ª—É—á—à—É—é –º–æ–¥–µ–ª—å
2. `make web` - –∑–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞  
3. –†–∞–±–æ—Ç–∞–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –º–æ–¥–µ–ª–µ–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ! üöÄ** 